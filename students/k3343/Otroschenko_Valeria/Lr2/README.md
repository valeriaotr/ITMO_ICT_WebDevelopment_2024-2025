# Лабораторная работа #2
## Условия выполнения лабораторной работы

Хранится информация о названии тура, турагенстве, описании тура, периоде
проведения тура, условиях оплаты.

Необходимо реализовать следующий функционал:

1. Регистрация новых пользователей.

2. Просмотр и резервирование туров. Пользователь должен иметь возможность
редактирования и удаления своих резервирований.

3. Написание отзывов к турам. При добавлении комментариев, должны
сохраняться даты тура, текст комментария, рейтинг (1-10), информация о
комментаторе.

4. Администратор должен иметь возможность подтвердить резервирование
тура средствами Django-admin.

5. В клиентской части должна формироваться таблица, отображающая все
проданные туры по странам.

## Функционал

### Основные возможности:
1. **Регистрация и аутентификация пользователей**
   - Пользователи могут регистрироваться и входить в систему.
   - Только аутентифицированные пользователи могут бронировать туры и оставлять отзывы.

2. **Список туров**
   - Отображение всех доступных туров в виде карточек с минималистичным дизайном.
   - Возможность забронировать тур (кнопка становится неактивной, если тур уже забронирован).

3. **Детали тура**
   - Просмотр подробной информации о туре.
   - Кнопка "Зарезервировать" становится неактивной после успешного бронирования.
   - Возможность оставить отзыв о туре.

4. **Отзывы**
   - Отзывы отображаются в бенто-стиле (карточки).
   - Кнопка "Добавить отзыв" доступна только аутентифицированным пользователям.

5. **Продажи по странам**
   - Статистика по количеству проданных туров в каждой стране.
   - Отображение данных в виде карточек с адаптивным дизайном.

6. **Мои бронирования**
   - Пользователь может просматривать список своих бронирований.
   - Возможность отменить бронирование.

## Установка и запуск

### Системные требования:
- Python 3.6+
- Django 3.2
- PostgreSQL
- Установленный пакет `pip`

### Структура проекта

```plaintext
.
├── README.md                   # Документация проекта
└── travel_agency
    ├── db.json                 # Данные для хранения в JSON (только для разработки)
    ├── manage.py               # Основная точка входа для управления проектом
    ├── static                  # Статические файлы
    │   ├── css
    │   │   └── styles.css      # Основные стили проекта
    │   └── images
    │       └── background.jpg  # Фоновое изображение
    ├── templates               # Базовые шаблоны проекта
    │   └── base_generic.html   # Главный шаблон для наследования
    ├── tours                   # Приложение "tours"
    │   ├── __init__.py         # Инициализация приложения
    │   ├── admin.py            # Настройки админ-панели
    │   ├── apps.py             # Конфигурация приложения
    │   ├── forms.py            # Формы для регистрации, отзывов и бронирования
    │   ├── migrations          # Миграции базы данных
    │   │   ├── 0001_initial.py
    │   │   ├── 0002_auto_20250115_1214.py
    │   │   ├── 0003_auto_20250115_1228.py
    │   │   └── __init__.py
    │   ├── models.py           # Модели базы данных
    │   ├── templates           # Шаблоны, специфичные для приложения "tours"
    │   │   ├── registration
    │   │   │   └── login.html  # Шаблон страницы входа
    │   │   └── tours
    │   │       ├── add_review.html           # Шаблон для добавления отзыва
    │   │       ├── delete_reservation.html   # Шаблон для удаления бронирования
    │   │       ├── my_reservations.html      # Шаблон для отображения бронирований пользователя
    │   │       ├── register.html             # Шаблон страницы регистрации
    │   │       ├── reserve_tour.html         # Шаблон страницы бронирования
    │   │       ├── sold_tours_by_country.html # Шаблон статистики по странам
    │   │       ├── tour_detail.html          # Шаблон деталей тура
    │   │       └── tour_list.html            # Шаблон списка туров
    │   ├── templatetags         # Пользовательские теги шаблонов
    │   │   ├── __init__.py
    │   │   └── custom_tags.py   # Пользовательские фильтры Django
    │   ├── tests.py             # Тесты приложения
    │   ├── urls.py              # Маршруты приложения "tours"
    │   └── views.py             # Представления приложения
    └── travel_agency            # Конфигурация проекта Django
        ├── __init__.py
        ├── asgi.py              # Конфигурация ASGI
        ├── settings.py          # Настройки проекта
        ├── urls.py              # Главные маршруты проекта
        └── wsgi.py              # Конфигурация WSGI
```
### Шаги установки
1. Создайте виртуальное окружение и активируйте его:
```bash
   python -m venv venv
   source venv/bin/activate   # Для Linux/macOS
   venv\Scripts\activate      # Для Windows
```
2. 	Установите зависимости:

```bash
    pip install -r requirements.txt
```
3. Запустите сервер разработки
```bash
  python manage.py runserver
```
4. Откройте приложение в браузере:
```angular2html
http://127.0.0.1:8000/
```